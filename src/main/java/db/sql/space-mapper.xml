<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>


<entry key="selectOneSpace">

	 SELECT SPACE_NO,
			SPACE_NAME,
			SPACE_KIND,
			SPACE_ONE_INTRODUCE,
			SPACE_INTRODUCE,
			SPACE_TAG,
			SPACE_INFORMATION,
			SPACE_CAUTION,
			SPACE_MIMG,
			SPACE_IMG,
			SPACE_ADDRESS,
			SPACE_DETAIL_ADDRESS,
			SPACE_PRICE,
			SPACE_LOCATION,
			SPACE_TEL,
			SPACE_CAPACITY,
			SPACE_RESERVATION_STATUS,
			SPACE_ENROLL_DATE,
			SPACE_ENROLL_STATUS,
			USER_NO
			FROM SPACE
			WHERE SPACE_NO = ? 



</entry>



<entry key="insertSpace">
	INSERT INTO SPACE (
					    SPACE_NO,
						SPACE_NAME,
						SPACE_KIND,
						SPACE_ONE_INTRODUCE,
						SPACE_INTRODUCE,
						SPACE_TAG,
						SPACE_INFORMATION,
						SPACE_CAUTION,
						SPACE_MIMG,
						SPACE_ADDRESS,
						SPACE_DETAIL_ADDRESS,
						SPACE_PRICE,
						SPACE_LOCATION,
						SPACE_TEL,
						SPACE_CAPACITY,
						USER_NO 
					   )
				VALUES(
					   SEQ_SNO.NEXTVAL,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?,
					   ?
					   )					
</entry>

<entry key="insertAttachmentList">
	INSERT INTO ATTACHMENT (
								FILE_NO,  
								REF_SNO, 
								ORIGIN_NAME, 
								CHANGE_NAME,  
								FILE_PATH,
								FILE_LEVEL  
								)
						VALUES ( 
								SEQ_ATNO.NEXTVAL, 
								SEQ_SNO.CURRVAL, 
								?,  
								?,  
								?, 
								?  
								) 
</entry>

	<entry key="selectSpaceList">
		SELECT SPACE_NO, 
			   SPACE_NAME, 
			   SPACE_TAG,
			   SPACE_MIMG, 
			   SPACE_ADDRESS, 
			   SPACE_PRICE, 
			   SPACE_CAPACITY 
		FROM SPACE  
		WHERE SPACE_ENROLL_STATUS = 'Y'  
		ORDER BY SPACE_NO DESC 
	</entry>
		



	<entry key="myselectTumNailSpaceList">  <!-- 썸네일 리스트 -->
	   SELECT
			  SPACE_NO,
			  SPACE_NAME,
			  SPACE_TAG,
			  SPACE_ADDRESS,
			  SPACE_PRICE,
			  SPACE_CAPACITY,
			  FILE_PATH || CHANGE_NAME AS "TITLE_IMG"
			  FROM SPACE S
			  JOIN MEMBER M
			  ON (S.USER_NO=M.USER_NO)
			  JOIN ATTACHMENT A
			  ON (A.REF_SNO=S.SPACE_NO)
			  WHERE M.USER_NO = ?
					   
	</entry>

	<entry key="myselectSpaceList">  <!-- 썸네일 리스트 -->
		SELECT 
			  SPACE_NO,
			  SPACE_NAME,
			  SPACE_TAG,
			  SPACE_MIMG,
			  SPACE_ADDRESS,
			  SPACE_PRICE,
			  SPACE_CAPACITY
			 
			  FROM SPACE S
			  JOIN MEMBER M
			  ON (S.USER_NO=M.USER_NO)
			  WHERE M.USER_NO = ?
					   
	</entry>

	<!-- 메인이미지 전부가져오기 -->
	<entry key="selectMainAttachment">
		SELECT  FILE_NO,
				REF_SNO,
				ORIGIN_NAME,
				CHANGE_NAME,
				FILE_PATH
			FROM ATTACHMENT
		WHERE FILE_LEVEL = 1
	</entry>
	
	
	<entry key="selectSpaceAttachment">
		SELECT  FILE_NO,
				FILE_PATH
			FROM ATTACHMENT A
			JOIN SPACE S ON (A.REF_SNO=S.SPACE_NO)
	  WHERE FILE_LEVEL = 2  AND  S.SPACE_NO =  ?
		
	</entry>

</properties>